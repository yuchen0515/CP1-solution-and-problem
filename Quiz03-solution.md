# Quiz 03 解答——大數字龍捲風
> [name=王老師]

<iframe src="https://drive.google.com/file/d/1UUJphJJAoMmgBHMH-c0SPPLYTprOkyTN/preview" width="640" height="480"></iframe>


## 參考解答
> [name=育辰]

```cpp=
#include <stdio.h>

int main(){

    int N = 0;
    scanf("%d", &N);

    int arr[N+2][N+2];

    for (int i = 0 ; i < N+2; i++){
        for (int j = 0 ; j < N+2; j++){
            //deal with boundary
            arr[i][j] = -1;

            //store to 1 ~ N
            if ((i >= 1 && i < N+1) && (j >= 1 && j < N+1))
                scanf("%d", &arr[i][j]);
        }
    }

    //0: right 1: down
    //2: left  3: up
    int cur = 0, x = 1, y = 1;
    int move[4][2] =
    {
        {0, 1},
        {1, 0},
        {0, -1},
        {-1, 0}
    };

    for (int i = 0, check = 0 ; i < N * N; i++, check = 0){
        //check neighbor
        for (int k = 0 ; k < 4 ; k++){
            int comp = arr[ x + move[k][0] ][ y + move[k][1] ];

            if (comp + 10 <=  0 )
                comp = -1 * (comp + 10);

            //greater, equivalent
            if ( arr[x][y] >= comp)
                check += 1;
        }

        if (check == 4) 
            printf("%d", arr[x][y]);

        //"visited" => -x - 10 (range: -10 ~ -19)
        //to avoid the value of the boundary (-1)
        //and restore the original value
        arr[x][y] = (-1 * arr[x][y]) - 10;

        //negative integer means that the element is visited or boundary
        //if YES, you should rotate your direction
        if (arr[ x + move[cur][0] ][ y + move[cur][1] ] < 0)
            cur = (cur + 1) % 4;

        //next
        x = x + move[cur][0];
        y = y + move[cur][1];
    }

    //please print '\n' in a endding row.
    printf("\n");

    return 0;
}
```

### 思考方式
* 由於有四種方向，我們可以利用一個二維陣列處理移動 `move[4][2]`，操作上也會比較簡單！
* 處理邊界很麻煩，可以將陣列自行擴展兩格，也就是最外圈還有沒填的邊界，從`1`讀到`N`，其餘的填入`-1`表示邊界(ps. 題本說超出界線忽略不計，由於數字鎖定在`0`~`9`因此`-1`也必定小於)
* 仔細觀察後發現，普通狀態下會直線前進，當遇到`-1`或是走過的位置時，就會==順時針==轉彎
* 助教會希望能夠節省陣列空間，因此走過的位置將其數值更新為 `element = -1 * element - 10`，讓他變成負數，並在`-10 ~ -19`的區間中，當要回溯其原本數值，只要加`10`後乘以`-1`就行了，例如原始數值為`5`，更新後變成`-15`，回溯則 $(-15+10) \times -1 = 5$，當然同學也可以在宣告一個二維陣列儲存他是否走過了，會比較簡單
* 關鍵在於 `cur` 儲存當前方向，而透過 `cur = (cur+1)%4`去更新方向，再利用`move[4][2]`就會簡單許多

---

## 成績狀況

* 平均：**32.9分** ／ 標準差：**41.8**
<!--
![](https://i.imgur.com/UztlX9X.png)
-->
![](https://i.imgur.com/Xsh1ZBc.png)




### 常見錯誤
1. 陣列
    * 陣列存取越界
    * 未初始化，導致有極端值出現
2. 格式錯誤
    * 題本上輸出寫道「輸出為一連串的數字,**中間不要有空白**,==**結尾為一換行字元。**==」
        > NOJ上其實結尾通常也要換行字元，但因為NOJ採取的格式檢查比較寬鬆，因此同學若沒這樣做也會AC，在一般Online Judge則不一定會如此。
    * 輸出格式錯誤扣5分
        > 小考嚴格執行這條是為了讓同學期末考時不要犯下一樣的錯(畢竟兩個考試比重差蠻多的)，一般來說，輸出完畢後最末端我們都會習慣加上換行
3. 誤解題意
    * 「不小於」相當於「大於等於」，或許你可以這樣想，平常寫判斷式對於不小於可能是 `if (!(a < b)`，就是`<`再反過來，也就是非`<`的狀況，我們只有`>`, `=`, `<`三種情況，不是`<`，那就剩下`=`, `>`是符合的！
    * 助教有幫誤解題意的同學，以「大於」的方式檢測測資，若有這類情況的同學成績以**八折**計算
4. 編譯錯誤
    * `if (curX = ...)` 注意，等於比較是`==`而非`=`！
    * `for ( ; ; )`，以分號區隔為三個區塊，少一個、兩個都會`Complier error`，多一個雖然會通過但結果不會如預期
    * `{` `}` 沒有匹配好
    * `void comp()`，在函式`return 0`，但`void`代表不回傳數值，你可以寫 `return`或不寫都可以
    * `arr[cur][-1]`，C語言內的陣列應該不會存到`index=-1`的才對...同學可能受到`python`影響
    * etc.
    > 請在繳交前，務必在電腦上先行測試後再交卷，尤其是括號匹配、for迴圈少分號(多分號可能蠻難發現的)
5. 檔案格式、命名錯誤
    * 繳交成`.c`以外的檔案，像是`zip` `rar`
    * ==學號打錯==...務必牢記學號啊！
    * `[student_ID]_q03.c`，沒有`q03`或兩個底線
    * `[student_ID]_q03.c.c`，`.c.c`多打一個
    * 學號是==小寫==，不要大寫
    * etc.
    > 小寫大寫部分這次提醒不扣分，`.c.c`也是不扣分，但往後請多加注意，其餘全部依檔案格式錯誤酌扣10分
    
## 測資

* [測資載點](https://drive.google.com/file/d/1qtyB4zPE0gGauvnZU3A4Uhn2mJUi6o6l/view?usp=sharing)
    > 若無法開啟，請將`.in`, `.out`副檔名改為`.txt`就可以觀看使用，`command line`環境操作會更簡單，若有這需求的可以來信詢問助教！
* 一共`40`筆測資，採==單筆測資計分==，因此每通過一筆得`2.5`分，分為幾組類型的測資：
    1. $N \leq 5$
    2. $N \leq 25$
    3. $N \leq 50$
    4. $N \leq 100$
    5. $N = 50$，亂數產生
    6. $N = 100$，亂數產生
    6. $N \leq 100$，亂數產生
* 在各個類型中會包含：
    1. $N$ 為奇數、偶數
    2. $N$ 「大於等於」、「大於」
    3. 邊界印值，中間幾乎不印 或反過來
    > ps. N有可能為 $1$，或 $100$
    
---

### Input: 0-0

```
3
6 2 8
6 1 8
3 4 4
```
### Output: 0-0

```
68846
```

### Input: 0-1

```
1
9
```
### Output: 0-1

```
9
```
### Input: 0-2

```
2
9 9
9 9
```

### Output: 0-2

```
9999
```

### Input: 0-3

```
4
7 5 1 2
6 9 8 2
1 3 4 8
2 7 0 1
```

### Output: 0-3

```
72879
```

### Input: 0-4

```
5
1 2 1 2 1
2 3 5 3 2
1 4 6 4 1
2 5 7 1 2
1 2 1 2 1
```

### Output: 0-4

```
227
```

---

### Input: 1-0

```
10
1 2 3 4 5 6 7 8 9 0
9 8 7 6 5 4 3 2 1 0
3 4 5 6 7 8 9 0 1 2
5 4 3 2 1 0 9 8 7 6
0 0 0 0 0 0 0 0 0 0
1 1 1 1 1 1 1 1 1 1
1 1 1 1 9 9 6 2 1 0
9 9 9 9 9 9 9 2 1 1
3 4 2 1 4 9 4 5 2 6
9 8 7 6 5 9 5 6 3 7
```

### Output: 1-0

```
9176999159199199999919991
```

### Input: 1-1

```
6
9 8 7 8 9 8
8 1 2 1 4 7
7 3 6 2 1 8
8 7 6 2 1 7
9 8 7 6 5 9
8 9 8 7 8 9
```

### Output: 1-1

```
99899996
```

### Input: 1-2

```
25
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```

### Output: 1-2

```
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
```

### Input: 1-3

```
14
1 2 1 2 1 2 3 4 3 4 3 4 1 2
2 9 9 9 9 9 9 9 9 9 9 9 9 2
1 9 8 8 8 8 8 8 8 8 8 8 9 1
2 9 8 7 7 7 7 7 7 7 7 8 9 2
1 9 8 7 6 6 6 6 6 6 7 8 9 3
3 9 8 7 6 5 5 5 5 6 7 8 9 5
4 9 8 7 6 5 3 4 5 6 7 8 9 6
3 9 8 7 6 5 1 2 5 6 7 8 9 6
2 9 8 7 6 5 5 5 5 6 7 8 9 2
1 9 8 7 6 6 6 6 6 6 7 8 9 1
2 9 8 7 7 7 7 7 7 7 7 8 9 3
3 9 8 8 8 8 8 8 8 8 8 8 9 4
4 9 9 9 9 9 9 9 9 9 9 9 9 1
1 2 1 2 3 4 3 2 1 2 3 4 3 2
```

### Output: 1-3

```
299999999999999999999999999999999999999999999
```

### Input: 1-4

```
21
4 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 9
1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 1
9 2 3 3 3 3 3 3 3 3 3 3 3 3 9 3 3 3 3 2 1
1 2 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 3 2 1
1 2 3 2 5 5 5 5 5 5 5 5 5 5 5 5 5 4 3 2 1
1 2 3 4 5 6 6 6 6 6 6 6 6 6 6 6 5 4 3 2 1
1 2 3 4 5 6 7 7 7 7 7 7 7 7 7 6 5 4 3 2 1
1 2 3 4 5 8 7 8 8 8 8 8 8 8 9 6 5 4 3 2 1
1 2 3 4 5 6 1 8 9 9 9 9 9 8 7 6 5 4 3 2 1
1 2 3 4 5 6 7 3 1 9 3 9 3 8 7 6 5 4 3 2 1
1 2 3 1 5 6 1 8 9 1 9 5 9 8 7 6 5 4 3 2 1
1 3 3 4 5 6 7 8 9 2 9 9 9 8 8 6 5 4 3 2 1
1 2 3 4 5 6 7 8 3 9 8 9 8 8 7 6 5 4 3 2 1
1 2 3 4 5 6 7 9 8 8 8 8 8 9 7 6 5 4 3 2 1
1 2 3 4 5 6 7 7 7 7 7 7 7 7 7 6 5 4 3 2 1
1 2 3 4 5 6 6 6 6 6 6 6 6 6 6 6 5 4 3 2 1
1 2 9 4 5 5 5 5 5 5 5 5 5 5 5 5 5 4 3 2 1
1 2 3 4 6 4 4 4 4 4 4 4 4 4 4 4 4 4 3 2 1
1 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 2 1
1 2 2 2 2 2 2 2 2 2 2 2 8 2 2 2 2 2 2 2 1
2 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 9
```

### Output: 1-4

```
49929222823393339334446555666668798777889899999999999999999
```

---

### Input: 2-0

```
7
4 4 2 7 7 6 6
9 6 8 0 7 7 8
3 5 2 0 5 2 0
8 0 7 3 0 1 5
7 7 5 1 5 9 9
1 0 8 2 2 4 8
7 6 6 3 9 2 9
```

### Output: 2-0

```
778999789879877
```


### 其餘測資稍大，若要測試的同學請從連結下載測資測試