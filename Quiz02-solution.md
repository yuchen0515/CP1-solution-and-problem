# Quiz 2 解答——你的三葉
tags: `Nested Loop` 
> [name=育辰]

<iframe src="https://drive.google.com/file/d/1qk6iuUzzAc32LMbI9ZKN4-kxHBsENtlf/preview" width="640" height="480"></iframe>



## 參考解答——標準寫法(100分)
> Standard code
> [name=育辰]

```cpp=
#include <stdio.h>

int main(){

    //<宣告>
    //在未來寫大型程式時，建議變數名稱具體一些
    int width = 0 , height = 0;
    int n = 0 , type = 0;

    //讀入
    scanf("%d %d %d %d", &width, &height, &n, &type);

    //雙層迴圈，先跑"高"，再跑"寬"
    for (int i = 0 ; i < height ; i++){
        for (int j = 0 ; j < width ; j++){
            //填正方形
            if ( ((j / n) + (i / n)) % 2 == 0)
                printf("*");
                
            //正方形以外的部分
            else{
                //type 1 三角形
                if (type == 1 && ((i % n) < (n - (j % n))))
                    printf("*");
                    
                //type 2 三角形
                else if (type == 2 && ((i % n) <= (j % n)))
                    printf("*");
                    
                //type 3 三角形
                else if (type == 3 && ((n - (i % n)) <= ((j % n)+1)))
                    printf("*");
                    
                //type 4 三角形
                else if (type == 4 && ((i % n) >= (j % n)))
                    printf("*");
                
                //不滿足的時候就代表該位置不填色
                else 
                    printf("0");
            }
        }
        //一行(共 Width 個)輸出後，再換行
        printf("\n");
    }
    return 0;
}
```

> ps. 無註解版
![](https://i.imgur.com/ImmZxbc.png)


* 同學會發現程式碼並沒有預期的長，反而出乎意料地簡單
* 課堂上我們學到的是語法，但一個關鍵能力是我要如何把我所想的寫成程式碼？下面，助教撰寫了該題的思考思路、步驟給同學參考。

---

## 題本引導
> 原先構想是直接產生該圖，但這樣做難度很高\
> 希望藉由子任務「分段」引導的方式，讓同學比較好做出圖形\
> 同時也能做到什麼程度，就拿到怎樣的分數。\
> 當然在題本中也有不斷提到請參考步驟順序。

## 該如何思考題目？
> 事實上在設計題目時，是先想到這樣的圖形\
> 接著助教再直接撰寫出來，而在題本上\
> 可以發現到有 請參考「題述的步驟一」\
> 以及子任務逐一引導同學處理\
> 題述的步驟則是較好處理、好思考的思路順序！


* 同學可以參考以下題目的撰寫步驟：
1. **先跑雙層迴圈，確認你的程式碼「寬」、「高」沒有印反**，並且能正常塗上"*" (當然，變數的讀取也要先做好)，如下。

```cpp=
#include <stdio.h>

int main(){
    int width = 0 , height = 0;
    int n = 0 , type = 0;

    scanf("%d %d %d %d", &width, &height, &n, &type);
    
    for (int i = 0 ; i < height ; i++){
        for (int j = 0 ; j < width ; j++){
            printf("*");
        }
        //記得每列要換行
        printf("\n");
    }
    
    return 0;
}
```
> 順序要如何思考？首先每行你知道有 "width" 個 * 或 0\
> 因此先寫內迴圈，你就能完成一列的輸出對吧？\
> \
> 好，接著我的目標是將這個「一列」印出 height 行\
> 因此，將該內迴圈再包進迴圈內，接著印出，結果會如下：

### Input
    7 5 4 1

### Output
    *******
    *******
    *******
    *******
    *******
    
* 對吧？做題目時**首先要確認好寬高有沒有錯置**，並且能正常印出，再繼續做後續的事情，而**不要一次做好全部的事情，屆時就會不了解要從哪裡開始 Debug**


![](https://i.imgur.com/1qoeN5z.png =50%x)
> 按照區塊編號處理就會很容易！

2. 好的，現在我們可以完成上述事項，接著要做什麼？\
   提供一個面向，我只完成一排的間隔正方形輸出，再擴充。
    * 摁？那間隔正方形輸出要怎麼處理呢？
    * 如果你有參考題目所附的圖片，你可以簡單先把第一排的正方形做編號，從0開始的話會發現正方形恰為 $0, \ 2, \ 4, \ 6 , \cdots$
    * 現在，同學就知道我只要判斷到偶數，就印出"*"
    * 那麼我要怎麼得到正方形的 編號 ？
    * 好呀，我有 $j$ (目前所在列的第幾行)，也有 $\text{n}$，我只要計算 $\frac{\text{j}}{n}$ 即可，例如： 
        * $j = 0, \text{n} = 3 \implies \frac{0}{3} = 0$
        * $j = 1, \text{n} = 3 \implies \frac{1}{3} = 0.\bar{3} \implies 0$
        * $j = 2, \text{n} = 3 \implies \frac{2}{3} = 0.\bar{6} \implies 0$
        * $j = 3, \text{n} = 3 \implies \frac{3}{3} = 1 \implies 1$
     * 因此只要**判斷這個數值為偶數**，就能完成一行的正方形輸出。
        
   
### 關鍵片段
> [name=育辰]

```cpp=
for (int i = 0 ; i < height ; i++){
    for (int j = 0 ; j < width ; j++){
        if ((j / n) % 2 == 0)
            printf("*");
        else 
            printf("0");
    }
    printf("\n");
}
```
* 對吧？根據上述想法寫成這樣子，那麼我就可以得到這樣的結果：

### Input
    20 12 4 1

### Output
	****0000****0000****
	****0000****0000****
	****0000****0000****
	****0000****0000****
	****0000****0000****
	****0000****0000****
	****0000****0000****
	****0000****0000****
	****0000****0000****
	****0000****0000****
	****0000****0000****
	****0000****0000****

3. 現在，我成功將塗色以"行"交錯印出了，那麼我要怎麼轉換成列與列之間交錯列印呢？同樣的由上而下(從左上開始)，標記正方形的編號，你仍然得到$0, \ 2 , \ 4, \ 6, \cdots$，我仍然用這樣的方式計算之：$\frac{i}{n}$
    * 接著，你就發現如果都是交錯的，正方形塗色部分，行編號、列編號相加為**偶數** (其實就跟我們第二步驟中的判斷是幾乎一樣的概念)
    * 因此，我們就能完成子任務一的40分程式碼。

### 基本程式 （40分)
> [name=育辰]

```cpp=
#include <stdio.h>

int main(){
    int width = 0 , height = 0;
    int n = 0 , type = 0;

    scanf("%d %d %d %d", &width, &height, &n, &type);
    
    for (int i = 0 ; i < height ; i++){
        for (int j = 0 ; j < width ; j++){
            if (((i / n) + (j / n)) % 2 == 0)
                printf("*");
            else 
                printf("0");
        }
        //記得每列要換行
        printf("\n");
    }
    
    return 0;
}
```

* 同上面的輸入資料我們得到這樣的結果：

```
****0000****0000****
****0000****0000****
****0000****0000****
****0000****0000****
0000****0000****0000
0000****0000****0000
0000****0000****0000
0000****0000****0000
****0000****0000****
****0000****0000****
****0000****0000****
****0000****0000****
 ```
 
 
 > 好的，很幸運！\
 > 這樣得到了 40分，**但我還沒及格呢**！？要怎麼做呢？
 
 4. 開始填寫其中一種三角形
     * 在上圖 第13行的else這邊代表**原先不用填色的部分**，那麼我們三角形當然就主要在這邊處理。
     * type的判斷，我們可以先從一個小的正方形自己處理
     
|row / col|0|1|2|3|
|:--|:--|:--|:--|:--|
|0 |*|*|*|*|
|1 |*|*|*||
|2 |*|*|||
|3 |*||||

* 看看不符合填色的部分，(3,1), (3,2), (3,3), (2,2), (2,3), (1,3)，等一下！如果我把後面那個數倒置，變成 $4-x$，我們可以得到 (3,3), (3,2), (3,1), (2,2), (2,1), (1,1)對吧？
* 就會發現不能填色的狀況是 $\text{row} >= (n - \text{col})$ 的情況，那能填色的狀況就是反過來囉！

因此在最內圈判斷式會這樣寫：

### 及格程式碼關鍵片段 (60分)
> [name=育辰]

```cpp=
if (((i / n) + (j / n)) % 2 == 0)
    printf("*");
    
//非正方形部分
else{
    if (type == 1 && (i % n) < (n - (j % n)))
        printf("*");
    else
        printf("0");
}
```

* 我要在整張矩形中，以上面的編號方式取出，那麼就只要使用 `%`，就可以了，再利用到上述的判斷，就可以輕易做出其中一個 $\text{type}$，60分入手！

### Input
    20 12 4 1

### Output

```
********************
*******0*******0****
******00******00****
*****000*****000****
********************
***0*******0*******0
**00******00******00
*000*****000*****000
********************
*******0*******0****
******00******00****
*****000*****000****
```

5. 再完成第二種三角形

|row / col|0|1|2|3|
|:--|:--|:--|:--|:--|
|0 |*|*|*|*|
|1 ||*|*|*|
|2 |||*|*|
|3 ||||*|

* 疑？怎麼感覺比上一個還容易！？
* 是的，你發現只要 $\text{row} <= \text{col}$ 就能正確輸出了。
* 然後，就會發現他的對角塗色也很簡單，也就是 type 4
* 只要滿足 $\text{row} >= \text{col}$ 即可

### 關鍵程式碼 (80分)
> [name=育辰]

```cpp=
if (((i / n) + (j / n)) % 2 == 0)
    printf("*");
    
//非正方形部分
else{
    if (type == 1 && (i % n) < (n - (j % n)))
        printf("*");
    else if (type == 2 && (i % n) <= (j % n))
        printf("*");
    else if (type == 4 && (i % n) >= (j % n))
        printf("*");
    else
        printf("0");
}
```

* 因此，這樣我就可以再完成兩個型別，因此這樣的程式碼即可獲得80分 (請注意這邊是關鍵程式碼片段，要加上前面的標頭檔跟迴圈)

### Input
    20 12 4 2

### Output
```
********************
****0*******0*******
****00******00******
****000*****000*****
********************
0*******0*******0***
00******00******00**
000*****000*****000*
********************
****0*******0*******
****00******00******
****000*****000*****
```

### Input
    20 12 4 4

### Output
```
*****000*****000****
******00******00****
*******0*******0****
********************
*000*****000*****000
**00******00******00
***0*******0*******0
********************
*****000*****000****
******00******00****
*******0*******0****
********************
```

5. 剩下最後一個type 3，這邊就邀請同學拿筆模擬看看，關鍵判斷式可以想想看為什麼如下的判斷方式？
```cpp
if (type == 3 && ((n - (i % n)) <= ((j % n)+1)))
```


* 上述步驟是看到圖形後，應該要思考的順序、邏輯，按照這樣的拆解步驟，逐一合併、檢查，就可以成功答題，順利的話預估是 $15$ 分鐘 能寫完，初學者預估 $1$ 小時。
* 因本次小考狀況不太樂觀，也有些特殊的輸出，助教會逐一執行同學的程式，將不符合規範但認為應該要給一些分數的例子取出來，和老師、助教群討論再告知同學
* 若考的不理想也不要灰心，再好好檢討，搞懂雙層迴圈，希望同學能在期中考前好好把這邊磨練好，取得理想的分數！

---


---

## 參考程式碼(欣賞用)
> [name=映達]

> Magic Code\
> 可以觀察到還可壓縮成更短的程式碼\
> 但因為有部分語法還沒學到，參考即可。

```cpp=
#include <stdio.h>

int main() {
    int w = 0, h = 0, n = 0, t = 0;
    scanf("%d %d %d %d", &w, &h, &n, &t);
    for(int i = 0; i < h; ++i) {
        for(int j = 0; j < w; ++j) {
            if(!((i/n % 2) ^ (j/n % 2))) {
                printf("*");
            } else if(t % 2) {
                printf("%c", (n - i%n - 1 < j%n + t/2) ^ (t / 2) ? '0' : '*');
            } else {
                printf("%c", (i%n + t/2 - 1 > j % n) ^ (t/2 - 1) ? '0' : '*');
            }
        }
        printf("\n");
    }
}
```

> 承上，靈活運用for迴圈還可寫成這樣\
> 這邊就真的是欣賞用...！
> [name=育辰]
```cpp=
#include <stdio.h>

int main() {
    int w = 0, h = 0, n = 0, t = 0;
    scanf("%d %d %d %d", &w, &h, &n, &t);
    for (int i = 0; i < h; ++i, printf("\n")) {
        for (int j = 0; j < w; ++j) {
            if (!((i/n % 2) ^ (j/n % 2)))
                printf("*");
            else if (t % 2)
                printf("%c", (n - i%n - 1 < j%n + t/2) ^ (t / 2) ? '0' : '*');
            else
                printf("%c", (i%n + t/2 - 1 > j % n) ^ (t/2 - 1) ? '0' : '*');
        }
    }
}
```

* 最終版本(運用 && 優先順序 以及 printf回傳值)
* 單純觀賞即可，這邊不在範圍內！
```cpp=
#include <stdio.h>

int main(){
    int w = 0, h = 0, n = 0, t = 0;
    scanf("%d %d %d %d", &w, &h, &n, &t);
    for (int i = 0; i < h; ++i, printf("\n")) 
        for (int j = 0; j < w; ++j) {
            if (!((i/n % 2) ^ (j/n % 2)) && printf("*"));
            else if ((t % 2) && printf("%c", (n - i%n - 1 < j%n + t/2) ^ (t / 2) ? '0' : '*'));
            else printf("%c", (i%n + t/2 - 1 > j % n) ^ (t/2 - 1) ? '0' : '*');
        }
}
```


---
---

# 作答結果

## 成績

* 平均：28.47分
* 標準差：35.89

![](https://i.imgur.com/f88lrad.png)

|Range|number|
|:--|:--|
|0-9|50|
|10-19|1|
|20-29|5|
|30-39|6|
|40-49|12|
|50-59|2|
|60-69|1|
|70-79|5|
|80-89|3|
|90-100|11|
|繳交檔案&出席人數|96|



## 評分標準
### 採「單筆測資判定」
* 例如子任務一滿分40，若有四筆測資則每筆通過得10分
* 可保障部分寫出者不致於沒分數，能得到部分分數。

### 其他注意事項
* **條件寫死並且全部採用 `printf("****0000****0000")` 此類寫法不予計分**
* **矩形皆塗色者不予計分**
* **不符格式要求該筆測資以八折計算** (如符號間多空格、區塊間多換行)，如多印、少印不予計分
* 輸出會**自行擴充矩形，但有達到「交錯」正方形塗色打八折計算**

### 子任務一判定
* 子任務一：滿分40分
    * **共四筆測資，每通過一筆得10分**
    * **滿足其他注意事項情況下**，只看正方形區塊是否正確，每一正確得10分
    * 測資請看 0000~0003
    
### 子任務二三一起判定
* 子任務二：滿分20分
* 子任務三：滿分30分
    * 分四種type，每一type 3筆測資
    * 如有人4個type依序答對2,2,1,1筆則：
        * 取答對最高的type當作子任務二(以該例取type1)
        * type1得 $20 * \frac{2}{3} = 13.33$
        * 剩餘共答對5筆，得子任務三 $30  * \frac{4}{9}=13.33$
    * 測資如何看？
        * type 1: 0100, 0200, 0300
        * type 2: 0101, 0201, 0301
        * type 3: 0102, 0202, 0302
        * type 4: 0103, 0203, 0303

### 子任務四判定
* 子任務四：滿分10分
    * **矩形輸出錯誤者該筆測資不計分，單純全填者亦不計分**
    * type 1 2 3 4各2筆測資共8筆
    * 每一筆測資正確得1分
    * 每一筆測資只看正方形區塊正確者得0.25分
    * 共計 $1 * 8 + 0.25 * 8 = 10$
    * 測資如何看？
        * type 1: 0400, 0500
        * type 2: 0401, 0501
        * type 3: 0402, 0502
        * type 4: 0403, 0503
    


## 測資

* [測資載點](https://drive.google.com/file/d/1bANpNKRy_chajadEY4ubpKzM51Gg5qV-/view?usp=sharing)
* Terminal環境下可直接檔案導入檢測，一般環境請將副檔名改成`.txt`始可查看檔案內容，內容和以下測資完全相符。

### Input: 0-0
    16 16 4 1 
    
### Output: 0-0
    ****************
    *******0*******0
    ******00******00
    *****000*****000
    ****************
    ***0*******0****
    **00******00****
    *000*****000****
    ****************
    *******0*******0
    ******00******00
    *****000*****000
    ****************
    ***0*******0****
    **00******00****
    *000*****000****
    
### Input: 0-1
    4 4 2 1
    
### Output: 0-1
    ****
    ***0
    ****
    *0**

### Input 0-2
    12 12 6 1
    
### Output 0-2
    ************
    ***********0
    **********00
    *********000
    ********0000
    *******00000
    ************
    *****0******
    ****00******
    ***000******
    **0000******
    *00000******
    
### Input 0-3
    5 5 1 1
    
### Output 0-3
    *****
    *****
    *****
    *****
    *****
    
* 上述測資我們只看三角形和正方形是否有區隔開來處理，正方形填入是否完全無誤
    
---


### Input 1-0
    16 16 4 1

### Output 1-0
    ****************
    *******0*******0
    ******00******00
    *****000*****000
    ****************
    ***0*******0****
    **00******00****
    *000*****000****
    ****************
    *******0*******0
    ******00******00
    *****000*****000
    ****************
    ***0*******0****
    **00******00****
    *000*****000****
    
### Input 1-1
    16 16 4 2

### Output 1-1
    ****************
    ****0*******0***
    ****00******00**
    ****000*****000*
    ****************
    0*******0*******
    00******00******
    000*****000*****
    ****************
    ****0*******0***
    ****00******00**
    ****000*****000*
    ****************
    0*******0*******
    00******00******
    000*****000*****
    
### Input 1-2
    16 16 4 3

### Output 1-2
    ****000*****000*
    ****00******00**
    ****0*******0***
    ****************
    000*****000*****
    00******00******
    0*******0*******
    ****************
    ****000*****000*
    ****00******00**
    ****0*******0***
    ****************
    000*****000*****
    00******00******
    0*******0*******
    ****************
    
### Input 1-3
    16 16 4 4

### Output 1-3
    *****000*****000
    ******00******00
    *******0*******0
    ****************
    *000*****000****
    **00******00****
    ***0*******0****
    ****************
    *****000*****000
    ******00******00
    *******0*******0
    ****************
    *000*****000****
    **00******00****
    ***0*******0****
    ****************
    
### Input 2-0
    12 9 3 1
    
### Output 2-0
    ************
    *****0*****0
    ****00****00
    ************
    **0*****0***
    *00****00***
    ************
    *****0*****0
    ****00****00
    
### Input 2-1
    12 9 3 2
### Output 2-1
    ************
    ***0*****0**
    ***00****00*
    ************
    0*****0*****
    00****00****
    ************
    ***0*****0**
    ***00****00*
### Input 2-2
    12 9 3 3 
### Output 2-2
    ***00****00*
    ***0*****0**
    ************
    00****00****
    0*****0*****
    ************
    ***00****00*
    ***0*****0**
    ************
    
### Input 2-3
    12 9 3 4 

### Output 2-3
    ****00****00
    *****0*****0
    ************
    *00****00***
    **0*****0***
    ************
    ****00****00
    *****0*****0
    ************

### Input 3-0
    15 15 1 1
### Output 3-0
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
### Input 3-1
    15 15 1 2
### Output 3-1
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
### Input 3-2
    15 15 1 3
### Output 3-2
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
### Input 3-3
    15 15 1 4
### Output 3-3
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    ***************
    
### Input 4-0
    14 10 4 1
### Output 4-0
    **************
    *******0******
    ******00******
    *****000*****0
    **************
    ***0*******0**
    **00******00**
    *000*****000**
    **************
    *******0******
### Input 4-1
    14 10 4 2
### Output 4-1
    **************
    ****0*******0*
    ****00******00
    ****000*****00
    **************
    0*******0*****
    00******00****
    000*****000***
    **************
    ****0*******0*

### Input 4-2
    14 10 4 3
### Output 4-2
    ****000*****00
    ****00******00
    ****0*******0*
    **************
    000*****000***
    00******00****
    0*******0*****
    **************
    ****000*****00
    ****00******00

### Input 4-3
    14 10 4 4
### Output 4-3
    *****000*****0
    ******00******
    *******0******
    **************
    *000*****000**
    **00******00**
    ***0*******0**
    **************
    *****000*****0
    ******00******

### Input 5-0
    13 14 3 1
### Output 5-0
    *************
    *****0*****0*
    ****00****00*
    *************
    **0*****0****
    *00****00****
    *************
    *****0*****0*
    ****00****00*
    *************
    **0*****0****
    *00****00****
    *************
    *****0*****0*

### Input 5-1
    13 14 3 2
### Output 5-1
    *************
    ***0*****0***
    ***00****00**
    *************
    0*****0*****0
    00****00****0
    *************
    ***0*****0***
    ***00****00**
    *************
    0*****0*****0
    00****00****0
    *************
    ***0*****0***
### Input 5-2
    13 14 3 3
### Output 5-2
    ***00****00**
    ***0*****0***
    *************
    00****00****0
    0*****0*****0
    *************
    ***00****00**
    ***0*****0***
    *************
    00****00****0
    0*****0*****0
    *************
    ***00****00**
    ***0*****0***
### Input 5-3
    13 14 3 4
### Output 5-3
    ****00****00*
    *****0*****0*
    *************
    *00****00****
    **0*****0****
    *************
    ****00****00*
    *****0*****0*
    *************
    *00****00****
    **0*****0****
    *************
    ****00****00*
    *****0*****0*
